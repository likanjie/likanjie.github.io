(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{611:function(s,a,t){"use strict";t.r(a);var e=t(26),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"准备阶段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备阶段"}},[s._v("#")]),s._v(" 准备阶段")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("确认是否安装过mysql：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("yum list installed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\n")])])])]),s._v(" "),t("li",[t("p",[s._v("删除系统自带的mysql及其依赖命令：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("yum -y remove mysql-libs.x86_64\n")])])])]),s._v(" "),t("li",[t("p",[s._v("确认是否删除干净")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" / -name mysql\n")])])])]),s._v(" "),t("li",[t("p",[s._v("如果存在未删除干净再删除")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /var/lib/mysql\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /var/lib/mysql\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /usr/lib64/mysql\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -fr /usr/include/mysql\n")])])]),t("p",[s._v("注意：卸载后/etc/my.cnf不会删除，需要进行手工删除")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /etc/my.cnf\n")])])])]),s._v(" "),t("li",[t("p",[s._v("给"),t("a",{attrs:{href:"https://www.baidu.com/s?wd=CentOS&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd",target:"_blank",rel:"noopener noreferrer"}},[s._v("CentOS"),t("OutboundLink")],1),s._v("添加"),t("a",{attrs:{href:"https://www.baidu.com/s?wd=rpm&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd",target:"_blank",rel:"noopener noreferrer"}},[s._v("rpm"),t("OutboundLink")],1),s._v("源，并且选择较新的源命令：")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" dev.mysql.com/get/mysql-community-release-el6-5.noarch.rpm\nyum localinstall mysql-community-release-el6-5.noarch.rpm  \nyum repolist all "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql  \nyum-config-manager --disable mysql55-community  \nyum-config-manager --enable mysql56-community  \nyum-config-manager --disable mysql57-community \nyum repolist enabled "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql  \n")])])]),t("p",[s._v("如果提示yum-config-manager 无法执行，则安装yum指令工具包：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" yum-utils\n")])])]),t("h2",{attrs:{id:"安装阶段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装阶段"}},[s._v("#")]),s._v(" 安装阶段")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("安装mysql "),t("a",{attrs:{href:"https://www.baidu.com/s?wd=%E6%9C%8D%E5%8A%A1%E5%99%A8&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd",target:"_blank",rel:"noopener noreferrer"}},[s._v("服务器"),t("OutboundLink")],1),s._v("命令")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-server\n")])])])]),s._v(" "),t("li",[t("p",[s._v("启动mysql")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld start\n")])])])]),s._v(" "),t("li",[t("p",[s._v("查看mysql是否自启动,并且设置开启自启动命令")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --list "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysqld "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、3、4都是on代表开机自动启动\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" mysqld on 设置开机自动启动\n")])])])]),s._v(" "),t("li",[t("p",[s._v("5.6版本要初始化安全设置：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("mysql_secure_installation\n")])])])]),s._v(" "),t("li",[t("p",[s._v("登录root帐号")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("mysql -uroot -p \n")])])]),t("p",[s._v("输入之前设置的密码")])]),s._v(" "),t("li",[t("p",[s._v("建立可供远程连接的root用户")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("GRANT ALL PRIVILEGES ON *.* TO root@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" IDENTIFIED BY "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'你设置的密码'")]),s._v(" WITH GRANT OPTION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("刷新权限")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("flush privileges"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);